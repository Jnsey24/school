{"ast":null,"code":"import React,{createContext,useState,useContext}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthContext=/*#__PURE__*/createContext();export const AuthProvider=_ref=>{let{children}=_ref;const navigate=useNavigate();const[authToken,setAuthToken]=useState(localStorage.getItem('token')||'');// To track auth token\nconst[userRole,setUserRole]=useState(localStorage.getItem('role')||'');// To track user role\nconst handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('role');setAuthToken('');setUserRole('');navigate('/');};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{authToken,userRole,handleLogout},children:children});};export const useAuth=()=>useContext(AuthContext);","map":{"version":3,"names":["React","createContext","useState","useContext","useNavigate","jsx","_jsx","AuthContext","AuthProvider","_ref","children","navigate","authToken","setAuthToken","localStorage","getItem","userRole","setUserRole","handleLogout","removeItem","Provider","value","useAuth"],"sources":["C:/Users/SIDHARTHA/Desktop/school/react-school/sms/src/Authcontext.js"],"sourcesContent":["\r\nimport React, { createContext, useState, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nconst AuthContext = createContext();\r\n\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const navigate = useNavigate();\r\n  const [authToken, setAuthToken] = useState(localStorage.getItem('token') || ''); // To track auth token\r\n  const [userRole, setUserRole] = useState(localStorage.getItem('role') || ''); // To track user role\r\n\r\n \r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('role');\r\n    setAuthToken('');\r\n    setUserRole('');\r\n    navigate('/');\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{authToken, userRole, handleLogout }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAClE,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAG/C,KAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,CAAC,CAGnC,MAAO,MAAM,CAAAO,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAAAE,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACQ,SAAS,CAAEC,YAAY,CAAC,CAAGX,QAAQ,CAACY,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAI,EAAE,CAAC,CAAE;AACjF,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAACY,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAI,EAAE,CAAC,CAAE;AAG9E,KAAM,CAAAG,YAAY,CAAGA,CAAA,GAAM,CACzBJ,YAAY,CAACK,UAAU,CAAC,OAAO,CAAC,CAChCL,YAAY,CAACK,UAAU,CAAC,MAAM,CAAC,CAC/BN,YAAY,CAAC,EAAE,CAAC,CAChBI,WAAW,CAAC,EAAE,CAAC,CACfN,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAED,mBACEL,IAAA,CAACC,WAAW,CAACa,QAAQ,EAACC,KAAK,CAAE,CAACT,SAAS,CAAEI,QAAQ,CAAEE,YAAa,CAAE,CAAAR,QAAA,CAC/DA,QAAQ,CACW,CAAC,CAE3B,CAAC,CAGD,MAAO,MAAM,CAAAY,OAAO,CAAGA,CAAA,GAAMnB,UAAU,CAACI,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}