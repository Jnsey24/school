{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import styles,{layout}from\"../style\";import{jwtDecode}from'jwt-decode';import Footer from'../pages/Footer';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const navigate=useNavigate();const[token,setAuthToken]=useState(localStorage.getItem('token')||'');const[isLoggedIn,setIsLoggedIn]=useState(false);const[role,setUserRole]=useState('');const[id,setid]=useState('');useEffect(()=>{const token=localStorage.getItem('token');if(token){setAuthToken(token);setIsLoggedIn(true);setid(jwtDecode(token).id);const storedRole=localStorage.getItem('role');setUserRole(storedRole);}},[]);const handleLogin=()=>{navigate('/login');};const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('role');setAuthToken('');setIsLoggedIn(false);setUserRole('');navigate('/');};const Handledetails=()=>{if(isLoggedIn&&role){navigate(`/${role}/${id}`);}else{navigate('/login');}};return/*#__PURE__*/_jsxs(\"div\",{className:`${layout.sectionReverse}  ${styles.boxWidth} py-6 space-y-4`,children:[/*#__PURE__*/_jsx(\"div\",{className:`flex justify-center items-center py-4 ${styles.heading2}`,children:/*#__PURE__*/_jsx(\"h1\",{children:\"School Management System\"})}),/*#__PURE__*/_jsx(\"div\",{className:`${layout.sectionInfo}  ${styles.boxWidth} pr-3`,children:!isLoggedIn?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,className:`py-1 px-4 font-poppins font-medium text-[40px] text-primary bg-grey-gradient rounded-[15px] outline-none ${styles.button}`,children:\"Login IN\"})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:`py-1 px-4 font-poppins font-medium text-[40px] text-primary bg-grey-gradient rounded-[15px] outline-none ${styles.button}`,children:\"Logout\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:`${layout.sectionInfo} ${styles.flexCenter}`,children:[/*#__PURE__*/_jsxs(\"h2\",{className:styles.heading2,children:[\"Platform to Handle your \",/*#__PURE__*/_jsx(\"br\",{className:\"sm:block hidden\"}),\" School Data\"]}),/*#__PURE__*/_jsx(\"p\",{className:`${styles.paragraph} max-w-[470px] mt-5`,children:\"SMS is an online platform designed to streamline and simplify school management by providing a  space for administrators, teachers and students\"})]}),/*#__PURE__*/_jsx(\"div\",{className:`${layout.sectionInfo} ${styles.flexCenter} py-6 space-y-4`,children:/*#__PURE__*/_jsx(\"button\",{onClick:Handledetails,className:`py-4 px-6 font-poppins font-medium text-[18px] text-primary bg-blue-gradient rounded-[10px] outline-none ${styles.heading2}`,children:\"VIEW DETAILS\"})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","styles","layout","jwtDecode","Footer","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Dashboard","navigate","token","setAuthToken","localStorage","getItem","isLoggedIn","setIsLoggedIn","role","setUserRole","id","setid","storedRole","handleLogin","handleLogout","removeItem","Handledetails","className","sectionReverse","boxWidth","children","heading2","sectionInfo","onClick","button","flexCenter","paragraph"],"sources":["C:/Users/SIDHARTHA/Desktop/school/react-school/sms/src/components/Dashboard.jsx"],"sourcesContent":["import React , {useState,useEffect} from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport styles, { layout } from \"../style\";\r\nimport {jwtDecode} from 'jwt-decode';\r\nimport Footer from '../pages/Footer';\r\n\r\n\r\nconst Dashboard = () =>{\r\n    const navigate = useNavigate();\r\n    const [token,setAuthToken]= useState(localStorage.getItem('token') || '');\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const [role,setUserRole] = useState('');\r\n    const [id,setid] =useState('');\r\n\r\n    useEffect(()=>{\r\n      const token = localStorage.getItem('token');\r\n      if(token){\r\n        setAuthToken(token); \r\n        setIsLoggedIn(true);\r\n        setid(jwtDecode(token).id);\r\n        const storedRole = localStorage.getItem('role');\r\n        setUserRole(storedRole);\r\n      }\r\n    },[])\r\n\r\n    const handleLogin = () => {\r\n      navigate('/login');\r\n    };\r\n\r\n    \r\n    const handleLogout = () => {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('role');\r\n      setAuthToken('');\r\n      setIsLoggedIn(false);\r\n      setUserRole('');\r\n      navigate('/');\r\n    };\r\n\r\n    const Handledetails = () =>{\r\n      if(isLoggedIn && role){\r\n        navigate(`/${role}/${id}`);\r\n      }\r\n      else{\r\n        navigate('/login');\r\n      }\r\n    }\r\n  \r\n\r\n\r\nreturn(\r\n    <div className={`${layout.sectionReverse}  ${styles.boxWidth} py-6 space-y-4`}>\r\n\r\n\r\n  <div className={`flex justify-center items-center py-4 ${styles.heading2}`}>\r\n     <h1>School Management System</h1>\r\n    </div>\r\n \r\n    <div  className={`${layout.sectionInfo}  ${styles.boxWidth} pr-3`}>\r\n    {\r\n      !isLoggedIn ? (\r\n        <>\r\n          <button\r\n        onClick={handleLogin}\r\n        className={`py-1 px-4 font-poppins font-medium text-[40px] text-primary bg-grey-gradient rounded-[15px] outline-none ${styles.button}`}>\r\n         Login IN\r\n       </button>\r\n        </>\r\n       ):( \r\n       <>\r\n        <button\r\n        onClick={handleLogout} \r\n        className={`py-1 px-4 font-poppins font-medium text-[40px] text-primary bg-grey-gradient rounded-[15px] outline-none ${styles.button}`}>\r\n         Logout\r\n       </button>\r\n       </>\r\n      )\r\n     }  \r\n    \r\n    \r\n  </div>\r\n\r\n  <div className={`${layout.sectionInfo} ${styles.flexCenter}`}>\r\n    <h2 className={styles.heading2}>\r\n      Platform to Handle your <br className=\"sm:block hidden\" /> School Data\r\n    </h2>\r\n    <p className={`${styles.paragraph} max-w-[470px] mt-5`}>\r\n    SMS is an online platform designed to streamline and simplify school management by providing a  space for administrators, teachers and students\r\n    </p>\r\n  </div>\r\n  <div className={`${layout.sectionInfo} ${styles.flexCenter} py-6 space-y-4`}>\r\n        <button\r\n         onClick= {Handledetails}\r\n         className={`py-4 px-6 font-poppins font-medium text-[18px] text-primary bg-blue-gradient rounded-[10px] outline-none ${styles.heading2}`}>\r\n          VIEW DETAILS\r\n        </button>\r\n      </div>\r\n\r\n      <Footer />\r\n\r\n</div>\r\n\r\n)\r\n};\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}