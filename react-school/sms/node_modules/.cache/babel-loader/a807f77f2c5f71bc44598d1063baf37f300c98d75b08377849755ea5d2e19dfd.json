{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Teachers=()=>{const{id}=useParams();const[teacher,setTeacher]=useState(null);const[classes,setClasses]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('role');setAuthToken('');setIsLoggedIn(false);setUserRole('');};useEffect(()=>{const fetchTeacherDetails=async()=>{try{const response=await axios.get(`/api/teachers/${id}`);if(response.data.success){setTeacher(response.data.teacher);setClasses(response.data.class||[]);console.log(response.data);}else{setError(\"Failed to fetch teacher details.\");}}catch(err){setError(\"Error fetching teacher details.\");console.error(err);}finally{setLoading(false);}};fetchTeacherDetails();},[id]);if(loading)return/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-white\",children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-500\",children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center min-h-screen bg-gray-900 space-y-8\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:`py-1 px-4 font-poppins font-medium text-[40px] text-primary bg-grey-gradient rounded-[15px] outline-none ${styles.button}`,children:\"Logout\"})}),teacher&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"py-2 px-4 font-poppins font-medium text-xl text-white bg-gray-500 rounded-md\",children:\"Teacher Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white space-y-4\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",teacher.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Age:\"}),\" \",teacher.age]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Address:\"}),\" \",teacher.address]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Subject:\"}),\" \",teacher.subject_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone Number:\"}),\" \",teacher.phone_number]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Experience:\"}),\" \",teacher.experience]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"py-2 px-4 font-poppins font-medium text-xl text-white bg-gray-500 rounded-md\",children:\"Classes Assigned\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white space-y-4\",children:classes.length>0?classes.map((classItem,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-700 rounded-md\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Class No:\"}),\" \",classItem.class_no]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Section:\"}),\" \",classItem.sec]})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No classes assigned.\"})})]})]});};export default Teachers;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","jsx","_jsx","jsxs","_jsxs","Teachers","id","teacher","setTeacher","classes","setClasses","loading","setLoading","error","setError","handleLogout","localStorage","removeItem","setAuthToken","setIsLoggedIn","setUserRole","fetchTeacherDetails","response","get","data","success","class","console","log","err","className","children","onClick","styles","button","name","age","address","subject_name","phone_number","experience","length","map","classItem","index","class_no","sec"],"sources":["C:/Users/SIDHARTHA/Desktop/school/react-school/sms/src/pages/Teachers.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst Teachers = () => {\r\n  const { id } = useParams();\r\n  const [teacher, setTeacher] = useState(null);\r\n  const [classes, setClasses] = useState([]); \r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('role');\r\n    setAuthToken('');\r\n    setIsLoggedIn(false);\r\n    setUserRole('');\r\n  };\r\n\r\n  useEffect(() => {\r\n\r\n    const fetchTeacherDetails = async () => {\r\n      try {\r\n        const response = await axios.get(`/api/teachers/${id}`);\r\n        if (response.data.success) {\r\n          setTeacher(response.data.teacher);\r\n          setClasses(response.data.class || []); \r\n          console.log(response.data);\r\n\r\n        }\r\n        else{\r\n          setError(\"Failed to fetch teacher details.\");\r\n        }\r\n        \r\n      } catch (err) {\r\n        setError(\"Error fetching teacher details.\");\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTeacherDetails();\r\n  }, [id]);\r\n\r\n  if (loading) return <p className=\"text-center text-white\">Loading...</p>;\r\n  if (error) return <p className=\"text-center text-red-500\">{error}</p>;\r\n\r\n  return (\r\n    <div className=\"flex flex-col justify-center items-center min-h-screen bg-gray-900 space-y-8\">\r\n      \r\n      <div>\r\n      <button\r\n        onClick={handleLogout}\r\n        className={`py-1 px-4 font-poppins font-medium text-[40px] text-primary bg-grey-gradient rounded-[15px] outline-none ${styles.button}`}>\r\n         Logout\r\n       </button>\r\n      </div>\r\n\r\n\r\n\r\n      {teacher && (\r\n        <div className=\"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-lg shadow-lg\">\r\n          <h2 className=\"py-2 px-4 font-poppins font-medium text-xl text-white bg-gray-500 rounded-md\">\r\n            Teacher Details\r\n          </h2>\r\n          <div className=\"text-white space-y-4\">\r\n            <p><strong>Name:</strong> {teacher.name}</p>\r\n            <p><strong>Age:</strong> {teacher.age}</p>\r\n            <p><strong>Address:</strong> {teacher.address}</p>\r\n            <p><strong>Subject:</strong> {teacher.subject_name}</p>\r\n            <p><strong>Phone Number:</strong> {teacher.phone_number}</p>\r\n            <p><strong>Experience:</strong> {teacher.experience}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-lg shadow-lg\">\r\n        <h2 className=\"py-2 px-4 font-poppins font-medium text-xl text-white bg-gray-500 rounded-md\">\r\n          Classes Assigned\r\n        </h2>\r\n        <div className=\"text-white space-y-4\">\r\n          {classes.length > 0 ? (\r\n            classes.map((classItem, index) => (\r\n              <div key={index} className=\"p-4 bg-gray-700 rounded-md\">\r\n                <p><strong>Class No:</strong> {classItem.class_no}</p>\r\n                <p><strong>Section:</strong> {classItem.sec}</p>\r\n               \r\n              </div>\r\n            ))\r\n          ) : (\r\n            <p>No classes assigned.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Teachers;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}