{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import{useLocation}from'react-router-dom';import styles from'../style';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Students=()=>{var _location$state;const{id}=useParams();const[student,setStudent]=useState(null);const[teachers,setTeachers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const location=useLocation();const logoutfunc=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.handleLogout;useEffect(()=>{const fetchStudentDetails=async()=>{try{const response=await axios.get(`/api/students/${id}`);if(response.data.success){setStudent(response.data.student);setTeachers(response.data.teacher||[]);}else{setError(\"Failed to fetch student details.\");}}catch(err){setError(\"Error fetching student details.\");console.error(err);}finally{setLoading(false);}};fetchStudentDetails();},[id]);if(loading)return/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-white\",children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-500\",children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center min-h-screen bg-gray-900 space-y-8\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:logoutfunc,className:`py-1 px-4 font-poppins font-medium text-[40px] text-primary bg-grey-gradient rounded-[15px] outline-none ${styles.button}`,children:\"Logout\"})}),student&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"py-2 px-4 font-poppins font-medium text-xl text-white bg-gray-500 rounded-md\",children:\"Student Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-white space-y-4\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Roll No:\"}),\" \",student.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",student.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Age:\"}),\" \",student.age]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Class:\"}),\" \",student.class_no]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Section:\"}),\" \",student.sec]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone Number:\"}),\" \",student.contact_no]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Attendance:\"}),\" \",student.attendance]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Grade:\"}),\" \",student.grade]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"py-2 px-4 font-poppins font-medium text-xl text-white bg-gray-500 rounded-md\",children:\"Teachers and Subjects\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white space-y-4\",children:teachers&&teachers.length>0?teachers.map((teacher,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-700 rounded-md\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Teacher:\"}),\" \",teacher.teacher_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Subject:\"}),\" \",teacher.subject_name]})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No teachers assigned to this class.\"})})]})]});};export default Students;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","useLocation","styles","jsx","_jsx","jsxs","_jsxs","Students","_location$state","id","student","setStudent","teachers","setTeachers","loading","setLoading","error","setError","location","logoutfunc","state","handleLogout","fetchStudentDetails","response","get","data","success","teacher","err","console","className","children","onClick","button","name","age","class_no","sec","contact_no","attendance","grade","length","map","index","teacher_name","subject_name"],"sources":["C:/Users/SIDHARTHA/Desktop/school/react-school/sms/src/pages/Students.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { useLocation } from 'react-router-dom';\r\nimport styles from '../style';\r\n\r\nconst Students = () => {\r\n  const { id } = useParams();\r\n  const [student, setStudent] = useState(null);\r\n  const [teachers, setTeachers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const location = useLocation();\r\n  const logoutfunc = location.state?.handleLogout;\r\n \r\n  useEffect(() => {\r\n    const fetchStudentDetails = async () => {\r\n      try {\r\n        const response = await axios.get(`/api/students/${id}`);\r\n        if (response.data.success) {\r\n          setStudent(response.data.student);\r\n          setTeachers(response.data.teacher || []);\r\n        } else {\r\n          setError(\"Failed to fetch student details.\");\r\n        }\r\n      } catch (err) {\r\n        setError(\"Error fetching student details.\");\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchStudentDetails();\r\n  }, [id]);\r\n\r\n  if (loading) return <p className=\"text-center text-white\">Loading...</p>;\r\n  if (error) return <p className=\"text-center text-red-500\">{error}</p>;\r\n\r\n  return (\r\n    <div className=\"flex flex-col justify-center items-center min-h-screen bg-gray-900 space-y-8\">\r\n      <div>\r\n      <button\r\n        onClick={logoutfunc}\r\n        className={`py-1 px-4 font-poppins font-medium text-[40px] text-primary bg-grey-gradient rounded-[15px] outline-none ${styles.button}`}>\r\n         Logout\r\n       </button>\r\n      </div>\r\n     \r\n\r\n      \r\n      {student && (\r\n        <div className=\"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-lg shadow-lg\">\r\n          <h2 className=\"py-2 px-4 font-poppins font-medium text-xl text-white bg-gray-500 rounded-md\">\r\n            Student Details\r\n          </h2>\r\n          <div className=\"text-white space-y-4\">\r\n            <p><strong>Roll No:</strong> {student.id}</p>\r\n            <p><strong>Name:</strong> {student.name}</p>\r\n            <p><strong>Age:</strong> {student.age}</p>\r\n            <p><strong>Class:</strong> {student.class_no}</p>\r\n            <p><strong>Section:</strong> {student.sec}</p>\r\n            <p><strong>Phone Number:</strong> {student.contact_no}</p>\r\n            <p><strong>Attendance:</strong> {student.attendance}</p>\r\n            <p><strong>Grade:</strong> {student.grade}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      \r\n      <div className=\"w-full max-w-md p-8 space-y-6 bg-gray-800 rounded-lg shadow-lg\">\r\n        <h2 className=\"py-2 px-4 font-poppins font-medium text-xl text-white bg-gray-500 rounded-md\">\r\n          Teachers and Subjects\r\n        </h2>\r\n        <div className=\"text-white space-y-4\">\r\n          {teachers && teachers.length > 0 ? (\r\n            teachers.map((teacher, index) => (\r\n              <div key={index} className=\"p-4 bg-gray-700 rounded-md\">\r\n                <p><strong>Teacher:</strong> {teacher.teacher_name}</p>\r\n                <p><strong>Subject:</strong> {teacher.subject_name}</p>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <p>No teachers assigned to this class.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Students;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}